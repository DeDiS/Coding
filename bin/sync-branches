#!/bin/sh

# This can be called from a .travis.yml file on a repo that
# depends on cothority and/or onet. If the current branch
# name exists in ../cothority, then it will be checked out.
# Same for ../onet

br=`git symbolic-ref --short HEAD`

for i in ../cothority ../onet
do
	(
		cd $i
		if git rev-parse --short $br > /dev/null; then
		    echo "Branch $br exists in $i. Checking it out."
		    git checkout $br
		fi
	)
done
